.row{id: "level_#{level.id}"}
  .col-md-3
    .text
      %i.icon-globe.icon-large
      = level.name
  .col-md-3
    .text
      = level.state
  .col-md-6
    - unless level.state == :launched
      = link_to '#', class: 'btn btn-success spinner' do
        %i.icon-road
        Enter
    - if level.state == :launched
      = form_for(:level, url: build_admin_level_path(level.id), method: :put, remote: true, html: {class: 'small submit-once'}) do |f|
        = select_tag :config_file, options_for_select(level_configuration_files), include_blank: false
        %button{type: 'submit', class: 'btn btn-primary spinner'}
          %i.icon-cog
          Build
    - elsif level.state == :ready
      = link_to run_admin_level_path(level.id), method: :put, remote: true, class: 'btn btn-primary spinner' do
        %i.icon-play
        Run
    - elsif level.state == :running
      = link_to stop_admin_level_path(level.id), method: :put, remote: true, class: 'btn btn-warning spinner' do
        %i.icon-off
        Stop
    - elsif level.state == :stopped
      = link_to admin_level_path(level.id), method: :delete, remote: true, class: 'btn btn-danger spinner' do
        %i.icon-remove
        Remove
